<article
  id="<%= dom_id(post) %>"
  class="group rounded-2xl border border-slate-800 bg-slate-900/60 p-6 shadow-md shadow-slate-950/30 transition hover:border-emerald-400/40 hover:shadow-emerald-500/10"
>
  <!-- HEADER -->
  <header class="flex items-start justify-between gap-3 mb-4">
    <div class="space-y-1">
      <h3 class="text-lg font-semibold tracking-tight text-slate-50 group-hover:text-emerald-300 transition">
        <%= link_to post.title, post, class: "hover:underline" %>
      </h3>

      <div class="flex items-center gap-2 text-xs text-slate-500">
        <span class="rounded-full bg-slate-950/70 px-2 py-0.5 ring-1 ring-slate-700 text-[10px] uppercase tracking-wide text-emerald-300">
          anonymous
        </span>

        <span>
          <%= l post.created_at, format: "%d %b %Y Â· %H:%M" %>
        </span>
      </div>
    </div>

    <%# if post.ai_response.present? %>
      <span class="inline-flex items-center gap-1 rounded-full bg-sky-500/10 px-2 py-0.5 text-[10px] font-semibold text-sky-300 ring-1 ring-sky-500/40">
        ðŸ¤– IA
      </span>
    <%# end %>
  </header>

  <!-- BODY -->
  <p class="text-sm leading-relaxed text-slate-300 line-clamp-4 whitespace-pre-line">
    <%= post.body %>
  </p>

  <!-- FOOTER -->
  <footer class="mt-4 flex items-center justify-between">
    <%= link_to "Leer mÃ¡s â†’",
      post_path(post),
      class: "text-sm font-medium text-emerald-300 hover:text-emerald-200" %>

    <% if authenticated? && post.user_id == current_user.id %>
      <%= link_to "Editar",
        edit_post_path(post),
        class: "text-xs text-slate-500 hover:text-slate-300" %>
    <% end %>
  </footer>
</article>
